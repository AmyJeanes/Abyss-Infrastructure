metrics:
  enabled: true
  prometheusRule:
    enabled: true
env:
  TS3SERVER_DB_PLUGIN: ts3db_mariadb
  TS3SERVER_DB_SQLCREATEPATH: create_mariadb
  TS3SERVER_DB_HOST: mariadb
  TS3SERVER_DB_USER: teamspeak-alt
  TS3SERVER_DB_NAME: teamspeak-alt
  TS3SERVER_DB_WAITUNTILREADY: 30
  TS3SERVER_LICENSE: accept
service:
  # Services can be merged in Kubernetes >= 1.24 with feature gate MixedProtocolLBService
  main:
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/azure-load-balancer-resource-group: abyss
    ports:
      voice:
        enabled: false
      serverquery:
        port: 10012
        targetPort: 10011
      filetransfer:
        port: 30034
        targetPort: 30033
  udp:
    enabled: true
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/azure-load-balancer-resource-group: abyss
    ports:
      voice:
        enabled: true
        port: 9988
        targetPort: 9987
        protocol: UDP
persistence:
  data:
    enabled: true
    type: pvc
    existingClaim: teamspeak-alt